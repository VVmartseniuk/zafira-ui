<aside id="nav-container" class="nav-container nav-vertical bg-dark">
    <div class="nav-wrapper" xmlns:font-size="http://www.w3.org/1999/xhtml">
        <ul id="nav" class="nav" data-slim-scroll data-collapse-nav>
            <li class="sidebar-menu-button bg-dark">
                <a md-button class="menu-btn toggle-min" toggle-nav-bottom aria-label="menu toggle-nul-collapsed-min">
                    <i class="material-icons nav-menu-icon">menu</i>
                    <i class="material-icons nav-close-icon">close</i>
                </a>
            </li>
            <li toggle-menu ng-class="{'active':$state.includes('dashboard')}">
                <a md-button aria-label="menu" ui-sref="dashboard.list" data-ng-click="$ctrl.loadDashboards();">
                    <i class="material-icons">equalizer</i><span>Boards</span>
                </a>
                <ul class="auto-width width-icon" toggle-nav-bottom>
                    <li class="sub-search nav-search">
                        <md-input-container class="no-margin no-padding">
                            <label>Search</label>
                            <input name="search" ng-model="navSC.title" autocomplete="off"/>
                            <md-icon>search</md-icon>
                        </md-input-container>
                        <md-icon toggle-menu="close" class="search_close-button" ng-click="">close</md-icon>
                    </li>
                    <li class="sub-search search-menu">
                        <ul>
                            <li toggle-menu="close" has-any-permission="['MODIFY_DASHBOARDS']" class="nav-controls hide-phone">
                                <a class="create-view-button" md-button aria-label="menu" href="" data-ng-click="showDashboardSettingsModal($event, {}, true)"></i>New dashboard +</a>
                            </li>
                            <li data-ng-repeat="dashboard in $ctrl.dashboardList | orderBy:'position' | filter:navSC" ui-sref-active="active" class="show-on-hover">
                                <a toggle-menu="close" md-button aria-label="menu" ui-sref="dashboard.page({ dashboardId: dashboard.id })">
                                    <i data-ng-if="dashboard.hidden == true" style="font-size: 14px;" class="material-icons">visibility_off</i>
                                    <show-part limit="27" text="dashboard.title"></show-part>
                                </a>
                                <span ng-if="dashboard.editable" has-any-permission="['MODIFY_DASHBOARDS']" style="position: absolute; right: 10px; top: 15px;" class="show-icon-on-hover">
                                    <i style="font-size: 14px;" class="material-icons" toggle-menu="close" ng-click="showDashboardSettingsModal($event, dashboard);">edit</i>
                                </span>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li ng-class="{'active':$state.includes('tests')}" toggle-nav-bottom>
                <a md-button aria-label="menu" ui-sref="tests.runs">
                    <i class="material-icons">play_circle_outline</i>
                    <span>Runs</span>
                </a>
            </li>
            <li has-any-permission="['VIEW_TEST_RUN_VIEWS', 'MODIFY_TEST_RUN_VIEWS']" toggle-menu ui-sref-active="active">
                <a md-button aria-label="menu" ui-sref="views" data-ng-click="loadViews();">
                    <i class="material-icons">remove_red_eye</i><span>Views</span>
                </a>
                <ul class="auto-width width-icon">
                    <li class="sub-search nav-search" toggle-nav-bottom>
                        <md-input-container class="no-margin no-padding">
                            <label>Search</label>
                            <input name="search" ng-model="navSCView.name" autocomplete="off"/>
                            <md-icon>search</md-icon>
                        </md-input-container>
                        <md-icon toggle-menu="close" class="search_close-button" ng-click="">close</md-icon>
                    </li>
                    <li class="sub-search search-menu">
                        <ul toggle-nav-bottom>
                            <li>
                                <a class="create-view-button" md-button aria-label="menu" href="" toggle-menu="close" data-ng-click="showViewDialog($event)"></i>New view +</a>
                            </li>
                            <li data-ng-repeat="view in views | orderBy:'name' | filter:navSCView" style="position: relative;" class="show-on-hover">
                                <a toggle-menu="close" md-button aria-label="menu" ui-sref="views({ id: view.id })">
                                    <show-part limit="27" text="view.name"></show-part>
                                </a>
                                <span style="position: absolute; right: 10px; top: 15px;" class="show-icon-on-hover">
                                    <i style="font-size: 14px;" class="material-icons" toggle-menu="close" data-ng-click="showViewDialog($event, view)" has-any-permission="['MODIFY_TEST_RUN_VIEWS']">edit</i>
                                </span>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <!--li  ui-sref-active="active">
                <a md-button aria-label="menu" href="/tests/cases">
                  <i class="material-icons">library_books</i>
                  <span>Cases</span>
                </a>
            </li-->
            <li has-any-role="['ROLE_ADMIN']" ng-class="{'active':$state.includes('users')}" toggle-nav-bottom>
                <a md-button aria-label="menu" ui-sref="users.list"  has-any-permission="['VIEW_USERS']">
                    <i class="material-icons">supervisor_account</i>
                    <span>Users</span>
                </a>
            </li>
            <li ui-sref-active="active" toggle-nav-bottom>
                <a md-button aria-label="menu" ui-sref="monitors" has-any-permission="['VIEW_MONITORS']">
                    <i class="material-icons">laptop_chromebook</i>
                    <span>Monitors</span>
                </a>
            </li>
            <li ui-sref-active="active" toggle-nav-bottom>
                <a md-button aria-label="menu" ui-sref="integrations" has-any-permission="['VIEW_INTEGRATIONS']">
                    <i class="material-icons">settings_input_component</i>
                    <span>Integrations</span>
                </a>
            </li>
            <li toggle-menu>
                    <a md-button aria-label="menu" ui-sref="dashboard.list">
                        <div class="profile-img hide-phone" style="display: inline-block;">
                            <profile-photo id="brandPhoto" ng-model="$ctrl.companyLogo.value" squared="8" size="36" src="../../../../assets/images/project_photo.svg"
                                icon-visible="$ctrl.currentUser.isAdmin"></profile-photo>
                            <div class="profile-img-content-wrapper" has-any-role="['ROLE_ADMIN']">
                                <div class="profile-img-content">
                                    <span>
                                        <!-- <md-icon md-svg-src="../../../../assets/images/project_circle_add.svg" ng-click="$ctrl.showUploadImageDialog($event)"
                                            style="height: 32px; width: 32px;"></md-icon> -->
                                    </span>
                                </div>
                            </div>
                        </div>
                    </a>
                    <ul class="auto-width width-icon" toggle-nav-bottom>
                        <li class="sub-search nav-search">
                            <md-input-container class="no-margin no-padding">
                                <label>Search</label>
                                <input name="search" ng-model="navSC.title" autocomplete="off"/>
                                <md-icon>search</md-icon>
                            </md-input-container>
                            <md-icon toggle-menu="close" class="search_close-button" ng-click="">close</md-icon>
                        </li>
                        <li class="sub-search search-menu">
                            <ul>
                                <md-list-item id="clearProject" class="md-2-line" ng-click="$ctrl.resetProjects()">
                                <md-icon class="material-icons highlight_red">close</md-icon>
                                <div class="md-list-item-text">
                                    <h3 class="highlight_red">Clear</h3>
                                </div>
                            </md-list-item>
                            <md-list-item id="createProject" class="md-2-line" ng-click="$ctrl.showProjectDialog()"
                                has-any-permission="['MODIFY_PROJECTS']">
                                <md-icon class="material-icons highlight_green">add</md-icon>
                                <div class="md-list-item-text">
                                    <h3 class="highlight_green">New</h3>
                                </div>
                            </md-list-item>
                            <md-list-item name="projectName" md-prevent-menu-close class="md-2-line" data-ng-repeat="project in $ctrl.projects | orderBy:'name'">
                                <md-checkbox md-prevent-menu-close class="md-primary" ng-change="$ctrl.chooseProject();"
                                    ng-model="project.selected" aria-label="project {{ project.id }}"></md-checkbox>
                                <div class="md-list-item-text">
                                    <h3>{{ project.name }}</h3>
                                </div>
                            </md-list-item>
                            </ul>
                        </li>
                    </ul>
                </li>
            <li>
                
                <md-menu id="projects-menu" md-position-mode="right bottom">
                    <md-button id="projects" md-no-ink class="header-btn" aria-label="menu" ng-click="$mdMenu.open(event); $ctrl.loadProjects();">
                        
                    </md-button>
                    <md-menu-content class="top-header-dropdown" style="z-index:99;" width="3">
                        <md-list class="md-dense">
                            <md-list-item id="clearProject" class="md-2-line" ng-click="$ctrl.resetProjects()">
                                <md-icon class="material-icons highlight_red">close</md-icon>
                                <div class="md-list-item-text">
                                    <h3 class="highlight_red">Clear</h3>
                                </div>
                            </md-list-item>
                            <md-list-item id="createProject" class="md-2-line" ng-click="$ctrl.showProjectDialog()"
                                has-any-permission="['MODIFY_PROJECTS']">
                                <md-icon class="material-icons highlight_green">add</md-icon>
                                <div class="md-list-item-text">
                                    <h3 class="highlight_green">New</h3>
                                </div>
                            </md-list-item>
                            <md-list-item name="projectName" md-prevent-menu-close class="md-2-line" data-ng-repeat="project in $ctrl.projects | orderBy:'name'">
                                <md-checkbox md-prevent-menu-close class="md-primary" ng-change="$ctrl.chooseProject();"
                                    ng-model="project.selected" aria-label="project {{ project.id }}"></md-checkbox>
                                <div class="md-list-item-text">
                                    <h3>{{ project.name }}</h3>
                                </div>
                            </md-list-item>
                        </md-list>
                    </md-menu-content>
                </md-menu>
            </li>
            <li>
                <md-menu md-position-mode="right bottom">
                    <md-button id="profileMenu" md-no-ink class="header-btn" aria-label="menu" ng-click="$mdMenu.open($event)">
                        <profile-photo ng-model="$ctrl.currentUser.photoURL" squared="8" size="32" auto-resize="false"></profile-photo>
                    </md-button>
                    <md-menu-content style="z-index:99;" width="3">
                        <md-menu-item>
                            <md-button aria-label="menu" ui-sref="users.profile">
                                <md-icon class="material-icons">account_circle</md-icon><span>Profile</span>
                            </md-button>
                        </md-menu-item>
                        <md-menu-item>
                            <md-button aria-label="menu" ui-sref="logout">
                                <md-icon class="material-icons">power_settings_new</md-icon><span>Logout</span>
                            </md-button>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu>
            </li>
        </ul>
    </div>
</aside>
